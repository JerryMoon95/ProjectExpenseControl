@model ProjectExpenseControl.Models.Request

@{
    ViewBag.Title = "Prove";
}

<h2>Comprobación del Gasto</h2>

    <div class="form-horizontal">
        <h4>Solicitud</h4>
        <hr />
        <div>
            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.REQ_IDE_REQUEST)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_IDE_REQUEST)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.REQ_IDE_USER)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_IDE_USER)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.REQ_DES_TYPE_GASTO)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_DES_TYPE_GASTO)
                </dd>

                @*<dt>
                    @Html.DisplayNameFor(model => model.REQ_IDE_ACCOUNT)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_IDE_ACCOUNT)
                </dd>*@

                <dt>
                    @Html.DisplayNameFor(model => model.REQ_DES_QUANTITY)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_DES_QUANTITY)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.REQ_DES_OBSERVATIONS)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.REQ_DES_OBSERVATIONS)
                </dd>
            </dl>
        </div>


        @using (Html.BeginForm("Prove", "Requests", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <div>
                @Html.Hidden("request", (string)ViewBag.solicitud)
                @Html.TextBox("file", "", new { type = "file", @class = "form-control valid", @data_val = "true", @data_val_required = "Billing Address is required" })
                <br />
                <input type="submit" value="Cargar" /><br />
                @ViewBag.Message
            </div>
            <br />
            <table class="table">
                <tr>
                    <th>
                        Archivos XML
                    </th>
                    <th></th>
                </tr>
                @foreach (var item in ViewBag.archivos)
                {
                    <tr>
                        <td>
                            @Path.GetFileNameWithoutExtension(item)

                        </td>
                        <td>
                            @Html.ActionLink("Crear PDF", "CreateInvoicePDF", "CreatePDF", new { pathXML = item }, null)
                        </td>
                    </tr>
                }
            </table>
        }
    </div>


    <div>
        @Html.ActionLink("Regresar a la Lista", "Index")
    </div>

